# sql

## 分组查询：

```mysql
表A :
+------+-----+-----+
| year | m1  | m2  |
+------+-----+-----+
| 1991 | 1.1 | 1.1 |
| 1991 | 1.2 | 1.2 |
| 1992 | 2.1 | 2.1 |
| 1992 | 2.2 | 2.2 |
+------+-----+-----+
查询显示：
+------+------+------+
| year | m1   | m2   |
+------+------+------+
| 1991 |  1.1 |  1.2 |
| 1992 |  2.1 |  2.2 |
+------+------+------+
```

sql语句：

```mysql
mysql> select year,max(if(month=1,amount,0)) as m1,max(if(month=2,amount,0)) as m2 from A group by year;
+------+------+------+
| year | m1   | m2   |
+------+------+------+
| 1991 |  1.1 |  1.2 |
| 1992 |  2.1 |  2.2 |
+------+------+------+
2 rows in set (0.00 sec)
```

```mysql
mysql> select year,amount as m1,amount as m2 from A;
+------+-----+-----+
| year | m1  | m2  |
+------+-----+-----+
| 1991 | 1.1 | 1.1 |
| 1991 | 1.2 | 1.2 |
| 1992 | 2.1 | 2.1 |
| 1992 | 2.2 | 2.2 |
+------+-----+-----+
4 rows in set (0.00 sec)
```

```python
mysql> select year,if(month=1,amount,0) as m1,if(month=2,amount,0) as m2 from A; 
+------+-----+-----+
| year | m1  | m2  |
+------+-----+-----+
| 1991 | 1.1 |   0 |
| 1991 |   0 | 1.2 |
| 1992 | 2.1 |   0 |
| 1992 |   0 | 2.2 |
+------+-----+-----+
4 rows in set (0.00 sec)
```

